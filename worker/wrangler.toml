name = "crossfire-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Development configuration
[env.dev]
name = "crossfire-worker-dev"

# Production configuration
[env.production]
name = "crossfire-worker"
routes = [
  { pattern = "api.crossfire.example.com/*", zone_name = "crossfire.example.com" }
]

# Durable Objects
[[durable_objects.bindings]]
name = "GAME_ROOM"
class_name = "GameRoom"

[[durable_objects.bindings]]
name = "MATCHMAKING"
class_name = "Matchmaking"

[[durable_objects.bindings]]
name = "PLAYER_STATS"
class_name = "PlayerStats"

[[durable_objects.bindings]]
name = "LEADERBOARD"
class_name = "Leaderboard"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["GameRoom"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["Matchmaking"]

[[migrations]]
tag = "v3"
new_sqlite_classes = ["PlayerStats"]

[[migrations]]
tag = "v4"
new_sqlite_classes = ["Leaderboard"]
